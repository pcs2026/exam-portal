<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DAV Public School – Admit Card</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<style>
body{font-family:Arial;background:#eef2f6;margin:0}

/* LOGIN */
.login{
  width:360px;margin:60px auto;background:#fff;
  padding:20px;text-align:center;border-radius:6px
}
.login h3{color:#003366}
.login input{width:90%;padding:10px;margin:8px 0}
.login button{
  padding:10px 25px;background:#003366;
  color:#fff;border:none;cursor:pointer
}

/* ADMIT CARD */
#admit,#verify{display:none}
.card{
  width:820px;margin:20px auto;background:#fff;
  padding:20px;border:2px solid #000
}
.header{text-align:center}
.main{display:flex;margin-top:15px}
.left{width:60%;font-size:14px}
.left p{margin:6px 0}
.right{width:40%;text-align:center}

.photo{
  width:130px;height:160px;border:1px solid #000;
  margin:auto
}
.photo img{width:100%;height:100%;object-fit:cover}

.qrbox{
  margin-top:10px;border:1px solid #000;
  padding:10px;display:inline-block
}
#qrcode{display:flex;justify-content:center}

table{
  width:100%;border-collapse:collapse;
  margin-top:15px;font-size:13px
}
th,td{border:1px solid #000;padding:6px;text-align:center}

/* VERIFICATION */
.verifyBox{
  width:420px;margin:60px auto;background:#fff;
  padding:20px;border:2px solid green
}
.verifyBox h2{text-align:center;color:green}
.verifyBox p{margin:6px 0}
.valid{
  background:#e6ffe6;padding:10px;
  text-align:center;font-weight:bold
}
</style>
</head>

<body>

<!-- LOGIN PAGE -->
<div class="login" id="login">
  <h3>DAV PUBLIC SCHOOL</h3>
  <input id="roll" placeholder="Enter Roll Number">
  <button onclick="generate()">View Admit Card</button>
</div>

<!-- ADMIT CARD -->
<div id="admit">
<div class="card">

<div class="header">
  <h2>DAV PUBLIC SCHOOL</h2>
  <h3>ADMIT CARD – 2026</h3>
</div>

<div class="main">
<div class="left">
  <p><b>Roll No:</b> <span id="rno"></span></p>
  <p><b>Father’s Name:</b> Rajesh Kumar</p>
  <p><b>Mother’s Name:</b> Sunita Devi</p>
  <p><b>Class:</b> VIII</p>
  <p><b>Section:</b> A</p>
  <p><b>Gender:</b> Male</p>
</div>

<div class="right">
  <div class="photo">
    <img src="https://via.placeholder.com/130x160">
  </div>

  <div class="qrbox">
    <div id="qrcode"></div>
    <small>Scan for Online Verification</small>
  </div>
</div>
</div>

<h3 align="center">EXAMINATION SCHEDULE</h3>

<table>
<tr>
<th>S.No</th><th>Date</th><th>Day</th><th>Subject</th><th>Time</th>
</tr>
<tr><td>1</td><td>15-03-2026</td><td>Mon</td><td>English</td><td>10:00–11:30</td></tr>
<tr><td>2</td><td>16-03-2026</td><td>Tue</td><td>Hindi</td><td>10:00–11:30</td></tr>
<tr><td>3</td><td>17-03-2026</td><td>Wed</td><td>Maths</td><td>10:00–11:30</td></tr>
<tr><td>4</td><td>18-03-2026</td><td>Thu</td><td>EVS</td><td>10:00–11:30</td></tr>
<tr><td>5</td><td>19-03-2026</td><td>Fri</td><td>Computer</td><td>10:00–11:30</td></tr>
</table>

</div>
</div>

<!-- VERIFICATION PAGE -->
<div id="verify">
<div class="verifyBox">
  <h2>✔ VERIFIED ADMIT CARD</h2>

  <p><b>Roll No:</b> <span id="vroll"></span></p>
  <p><b>Father:</b> <span id="vfather"></span></p>
  <p><b>Mother:</b> <span id="vmother"></span></p>
  <p><b>Class:</b> <span id="vclass"></span></p>
  <p><b>Section:</b> <span id="vsection"></span></p>
  <p><b>Gender:</b> <span id="vgender"></span></p>
  <p><b>Subjects:</b> <span id="vexam"></span></p>

  <div class="valid">This Admit Card is VALID</div>
</div>
</div>

<script>
/* ---------- ADMIT CARD QR GENERATE ---------- */
function generate(){
  let roll=document.getElementById("roll").value.trim();
  if(!roll){alert("Enter Roll Number");return;}

  document.getElementById("login").style.display="none";
  document.getElementById("admit").style.display="block";
  document.getElementById("rno").innerText=roll;

  // SAME FILE URL
  let baseURL = window.location.origin + window.location.pathname;

  let params=new URLSearchParams({
    verify:1,
    roll:roll,
    father:"Rajesh Kumar",
    mother:"Sunita Devi",
    class:"VIII",
    section:"A",
    gender:"Male",
    exam:"English, Hindi, Maths, EVS, Computer"
  }).toString();

  let finalURL=baseURL+"?"+params;

  document.getElementById("qrcode").innerHTML="";
  new QRCode("qrcode",{text:finalURL,width:130,height:130});
}

/* ---------- VERIFICATION MODE ---------- */
let p=new URLSearchParams(window.location.search);
if(p.get("verify")){
  document.getElementById("login").style.display="none";
  document.getElementById("admit").style.display="none";
  document.getElementById("verify").style.display="block";

  vroll.innerText=p.get("roll");
  vfather.innerText=p.get("father");
  vmother.innerText=p.get("mother");
  vclass.innerText=p.get("class");
  vsection.innerText=p.get("section");
  vgender.innerText=p.get("gender");
  vexam.innerText=p.get("exam");
}
</script>

</body>
</html>
