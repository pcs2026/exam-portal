<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JPSC History Online Exam</title>

<style>
body{font-family:Arial;background:#f2f2f2}
.container{width:1000px;max-width:100%;margin:20px auto;background:#fff;padding:20px;border:2px solid #000}
h2{text-align:center}
input,textarea{padding:6px;width:320px;max-width:100%;margin-bottom:10px}
button{padding:8px 18px;font-weight:bold;margin:5px;cursor:pointer}

#loginBox,#detailsBox,#examBox,#resultBox,#analysisBox{display:none}

.question{margin:15px 0;font-size:16px}
.options{margin-left:20px}
.options label{
 display:flex;
 align-items:center;
 gap:4px;
 cursor:pointer;
}

.timer{font-size:18px;color:red;text-align:right}
.warning{color:red;font-weight:bold}

.btnBox{text-align:center;margin-top:20px}

/* hidden */
.counterBox{display:none}

.analysis-q{border:1px solid #ccc;padding:10px;margin-bottom:10px}
.correct{color:green;font-weight:bold}
.wrong{color:red;font-weight:bold}
.notattempt{color:gray;font-weight:bold}

/* mobile */
@media(max-width:768px){
 .btnBox button{width:100%}
 .timer{text-align:center}
 .options{margin-left:5px}
}
</style>
</head>

<body>
<div class="container">

<!-- LOGIN -->
<div id="loginBox">
<h2>Student Login</h2>

<!-- ЁЯФТ FIXED LOGIN ID -->
<input id="sid" value="JPSC2026" readonly><br>

<input type="date" id="dob"><br>
<button onclick="doLogin()">Login</button>
</div>

<!-- DETAILS -->
<div id="detailsBox">
<h2>Student Details</h2>
<input id="sname" placeholder="Name"><br>
<input id="fname" placeholder="Father's Name"><br>
<input id="mob" placeholder="Mobile" maxlength="10"
oninput="this.value=this.value.replace(/[^0-9]/g,'')"><br>
<textarea id="addr" placeholder="Address"></textarea><br>
<button onclick="startExam()">START EXAM</button>
</div>

<!-- EXAM -->
<div id="examBox">

<div class="counterBox">
Copy: <span id="lc">0</span> |
Screenshot: <span id="ls">0</span> |
Tab: <span id="lt">0</span>
</div>

<div class="timer">тП▒ <span id="time">120:00</span></div>
<p class="warning">тЪа Exam rules strictly monitored</p>

<div id="questionBox"></div>

<div class="btnBox">
<button onclick="prevQ()">тмЕ Previous</button>
<button onclick="nextQ()">Next тЮб</button>
<button onclick="submitExam()">Submit</button>
</div>
</div>

<!-- RESULT -->
<div id="resultBox">
<h2>FINAL RESULT</h2>
<p>Name: <b id="rname"></b></p>
<p>Father's Name: <b id="rfname"></b></p>
<p>Total Questions: <b id="totalQ"></b></p>
<p>Attempted: <b id="attemptQ"></b></p>
<p>Correct: <b id="correctQ"></b></p>
<p>Wrong: <b id="wrongQ"></b></p>
<p>Negative Marks: <b id="negativeM"></b></p>
<p><b>Final Score: <span id="score"></span></b></p>

<hr>
<h3>ЁЯЪл Malpractice Monitoring Report</h3>
Copy Attempts: <b id="copyCount"></b><br>
Screenshot Attempts: <b id="shotCount"></b><br>
Tab / App Change Attempts: <b id="tabCount"></b>
</div>

<div style="text-align:center">
<button id="analysisBtn" style="display:none" onclick="showAnalysis()">
ЁЯУК Total Question Analysis
</button>
</div>

<!-- ANALYSIS -->
<div id="analysisBox">
<h2>Question Wise Analysis</h2>
<div id="analysisContent"></div>
</div>

</div>

<script>
/* ---------- MALPRACTICE ---------- */
let copyC=0, shotC=0, tabC=0, autoSubmitted=false;
function checkAutoSubmit(){
 if(copyC + shotC + tabC >= 3 && !autoSubmitted){
  autoSubmitted=true;
  submitExam();
 }
}
document.addEventListener("copy",()=>{copyC++;checkAutoSubmit();});
document.addEventListener("contextmenu",e=>{e.preventDefault();copyC++;checkAutoSubmit();});
document.addEventListener("keydown",e=>{
 if(e.ctrlKey && ["c","v","s"].includes(e.key.toLowerCase())){
  e.preventDefault();
  e.key.toLowerCase()==="s"?shotC++:copyC++;
  checkAutoSubmit();
 }
});
document.addEventListener("visibilitychange",()=>{if(document.hidden){tabC++;checkAutoSubmit();}});
window.addEventListener("blur",()=>{tabC++;checkAutoSubmit();});

/* ---------- LOGIN ---------- */
loginBox.style.display="block";
function doLogin(){
 const FIXED_ID="JPSC2026";
 if(sid.value!==FIXED_ID){alert("Invalid Login ID");return;}
 if(!dob.value){alert("Select DOB");return;}
 loginBox.style.display="none";
 detailsBox.style.display="block";
}

/* ---------- QUESTIONS ---------- */
const qlist=[
 {q:"рд╕рд┐рдВрдзреБ рд╕рднреНрдпрддрд╛ рдХреА рдЦреЛрдЬ рдХрд┐рд╕ рд╡рд░реНрд╖ рд╣реБрдИ?",o:["1901","1911","1921","1931"],a:2},
 {q:"рд╣рдбрд╝рдкреНрдкрд╛рд╡рд╛рд╕реА рдХрд┐рд╕ рдзрд╛рддреБ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рдирд╣реАрдВ рдереЗ?",o:["рддрд╛рдВрдмрд╛","рдХрд╛рдВрд╕рд╛","рд╕реЛрдирд╛","рд▓реЛрд╣рд╛"],a:3},
 {q:"рдорд╣рд╛рдЬрдирдкрджреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд┐рддрдиреА рдереА?",o:["12","14","16","18"],a:2},
 {q:"рд╕рд┐рдВрдзреБ рд╕рднреНрдпрддрд╛ рдХреА рдЦреЛрдЬ рдХрд┐рд╕ рд╡рд░реНрд╖ рд╣реБрдИ?",o:["1901","1911","1921","1931"],a:2},
 {q:"рд╣рдбрд╝рдкреНрдкрд╛ рд╕рднреНрдпрддрд╛ рдХрд╛ рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рдирдЧрд░ рдХреМрди рд╕рд╛ рдерд╛?",o:["рд╣рдбрд╝рдкреНрдкрд╛","рдореЛрд╣рдирдЬреЛрджрдбрд╝реЛ","рд▓реЛрдерд▓","рдзреЛрд▓рд╛рд╡реАрд░рд╛"],a:1},
 {q:"рд╣рдбрд╝рдкреНрдкрд╛рд╡рд╛рд╕реА рдХрд┐рд╕ рдзрд╛рддреБ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рдирд╣реАрдВ рдереЗ?",o:["рддрд╛рдВрдмрд╛","рдХрд╛рдВрд╕рд╛","рд╕реЛрдирд╛","рд▓реЛрд╣рд╛"],a:3},
 {q:"рдЛрдЧреНрд╡реИрджрд┐рдХ рд╕рдорд╛рдЬ рдХреА рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдЗрдХрд╛рдИ рдХреНрдпрд╛ рдереА?",o:["рдХреБрд▓","рдЧреНрд░рд╛рдо","рдЬрди","рд░рд╛рд╖реНрдЯреНрд░"],a:0},
 {q:"рд╕рднрд╛ рдФрд░ рд╕рдорд┐рддрд┐ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рд╕ рд╡реЗрдж рдореЗрдВ рд╣реИ?",o:["рдЛрдЧреНрд╡реЗрдж","рдпрдЬреБрд░реНрд╡реЗрдж","рд╕рд╛рдорд╡реЗрдж","рдЕрдерд░реНрд╡рд╡реЗрдж"],a:0},
 {q:"рдорд╣рд╛рдЬрдирдкрджреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд┐рддрдиреА рдереА?",o:["12","14","16","18"],a:2},
 {q:"рдордЧрдз рдХреЗ рдЙрддреНрдХрд░реНрд╖ рдХрд╛ рдкреНрд░рдореБрдЦ рдХрд╛рд░рдг рдХреНрдпрд╛ рдерд╛?",o:["рдЙрдкрдЬрд╛рдК рднреВрдорд┐","рд▓реЛрд╣реЗ рдХреЗ рд╣рдерд┐рдпрд╛рд░","рдЧрдВрдЧрд╛ рдирджреА","рд╕рднреА"],a:3},
 {q:"рдирдВрдж рд╡рдВрд╢ рдХрд╛ рд╕рдВрд╕реНрдерд╛рдкрдХ рдХреМрди рдерд╛?",o:["рдШрдирд╛рдирдВрдж","рдорд╣рд╛рдкрджреНрдордирдВрдж","рдмрд┐рдВрдмрд┐рд╕рд╛рд░","рдЕрдЬрд╛рддрд╢рддреНрд░реБ"],a:1},
 {q:"рдЪрдВрджреНрд░рдЧреБрдкреНрдд рдореМрд░реНрдп рдХреЗ рдЧреБрд░реБ рдХреМрди рдереЗ?",o:["рдореЗрдЧрд╕реНрдердиреАрдЬ","рдЪрд╛рдгрдХреНрдп","рдкрддрдВрдЬрд▓рд┐","рдмрд╛рдгрднрдЯреНрдЯ"],a:1},
 {q:"рдореМрд░реНрдп рдкреНрд░рд╢рд╛рд╕рди рдХрд╛ рдкреНрд░рдореБрдЦ рдЖрдзрд╛рд░ рдХреНрдпрд╛ рдерд╛?",o:["рд╕реЗрдирд╛","рдЧреБрдкреНрддрдЪрд░","рдХреЗрдиреНрджреНрд░реАрдпрдХрд░рдг","рд╕рднрд╛"],a:2},
  {q:"рддреНрд░рд┐рдкрд┐рдЯрдХ рдХрд┐рд╕ рдзрд░реНрдо рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ?",o:["рд╣рд┐рдВрджреВ","рдЬреИрди","рдмреМрджреНрдз","рд╕рд┐рдЦ"],a:2},
{q:"рд╕рдВрдЧрдо рд╕рд╛рд╣рд┐рддреНрдп рдХрд┐рд╕ рдХреНрд╖реЗрддреНрд░ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ?",o:["рдЙрддреНрддрд░","рдкреВрд░реНрд╡","рджрдХреНрд╖рд┐рдг","рдкрд╢реНрдЪрд┐рдо"],a:2},
{q:"рдЪреЛрд▓ рдкреНрд░рд╢рд╛рд╕рди рдХреА рдкреНрд░рдореБрдЦ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреНрдпрд╛ рдереА?",o:["рдХреЗрдиреНрджреНрд░реАрдпрдХрд░рдг","рдЧреНрд░рд╛рдо рд╕рднрд╛","рд╕реЗрдирд╛","рдзрд░реНрдо"],a:1},
{q:"рджреНрд░рд╡рд┐рдбрд╝ рд╢реИрд▓реА рдХрд┐рд╕рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ?",o:["рдЪрд┐рддреНрд░","рдореВрд░реНрддрд┐","рдордВрджрд┐рд░","рдирд╛рдЯрдХ"],a:2},
{q:"рдкреНрд░рд╛рдЪреАрди рднрд╛рд░рдд рдореЗрдВ рджрд╛рд╕ рдкреНрд░рдерд╛ рдХреИрд╕реА рдереА?",o:["рдирд╣реАрдВ рдереА","рд╕реАрдорд┐рдд","рд╡реНрдпрд╛рдкрдХ","рдХрд╛рдиреВрдиреА"],a:1},
{q:"рдЧреНрд░реИрдВрдб рдЯреНрд░рдВрдХ рд░реЛрдб рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд┐рд╕рдиреЗ рдХрд░рд╛рдпрд╛?",o:["рдЕрдХрдмрд░","рд╢реЗрд░рд╢рд╛рд╣ рд╕реВрд░реА","рдЬрд╣рд╛рдВрдЧреАрд░","рдФрд░рдВрдЧрдЬреЗрдм"],a:1},
{q:"рд╡реИрджрд┐рдХ рд╢рд┐рдХреНрд╖рд╛ рдХрд╛ рдорд╛рдзреНрдпрдо рдХреНрдпрд╛ рдерд╛?",o:["рдкрд╛рд▓реА","рдкреНрд░рд╛рдХреГрдд","рд╕рдВрд╕реНрдХреГрдд","рддрдорд┐рд▓"],a:2},
{q:"рдЙрддреНрддрд░ рд╡реИрджрд┐рдХ рдХрд╛рд▓ рдореЗрдВ рд╡рд░реНрдг рд╡реНрдпрд╡рд╕реНрдерд╛ рдХреИрд╕реА рдереА?",o:["рд▓рдЪреАрд▓реА","рдХрдареЛрд░","рдирд╣реАрдВ рдереА","рд╕рдорд╛рди"],a:1},
{q:"рдорд╣рд╛рд╡реАрд░ рдХрд╛ рдЬрдиреНрдо рдХрд╣рд╛рдБ рд╣реБрдЖ?",o:["рдХреБрд╢реАрдирдЧрд░","рд╡реИрд╢рд╛рд▓реА","рд▓реБрдВрдмрд┐рдиреА","рд░рд╛рдЬрдЧреГрд╣"],a:1},
{q:"рдмреБрджреНрдз рдХреЛ рдЬреНрдЮрд╛рди рдХрд╣рд╛рдБ рдкреНрд░рд╛рдкреНрдд рд╣реБрдЖ?",o:["рд╕рд╛рд░рдирд╛рде","рдХреБрд╢реАрдирдЧрд░","рдмреЛрдзрдЧрдпрд╛","рд░рд╛рдЬрдЧреГрд╣"],a:2},
   {q:"рдмрд╛рдмрд░ рдХреА рдЖрддреНрдордХрдерд╛ рдХрд╛ рдирд╛рдо рдХреНрдпрд╛ рд╣реИ?",o:["рдмрд╛рдмрд░рдирд╛рдорд╛","рдЕрдХрдмрд░рдирд╛рдорд╛","рддреБрдЬреБрдХ","рд╣реБрдорд╛рдпреВрдБрдирд╛рдорд╛"],a:0},
{q:"рдЕрдХрдмрд░ рдХреА рдзрд╛рд░реНрдорд┐рдХ рдиреАрддрд┐ рдХреНрдпрд╛ рдереА?",o:["рдЬрд┐рд╣рд╛рдж","рджреАрди-рдП-рдЗрд▓рд╛рд╣реА","рд╕реБрд▓рд╣-рдП-рдХреБрд▓","рдХрдЯреНрдЯрд░рддрд╛"],a:2},
{q:"рддрд╛рдЬрдорд╣рд▓ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд┐рд╕рдиреЗ рдХрд░рд╡рд╛рдпрд╛?",o:["рдЕрдХрдмрд░","рдЬрд╣рд╛рдВрдЧреАрд░","рд╢рд╛рд╣рдЬрд╣рд╛рдБ","рдФрд░рдВрдЧрдЬреЗрдм"],a:2},
{q:"рдкрд╛рдиреАрдкрдд рдХрд╛ рддреГрддреАрдп рдпреБрджреНрдз рдХрдм рд╣реБрдЖ?",o:["1556","1707","1761","1857"],a:2},
{q:"рдорд░рд╛рдард╛ рд╢рдХреНрддрд┐ рдХрд╛ рд╕рдВрд╕реНрдерд╛рдкрдХ рдХреМрди рдерд╛?",o:["рдмрд╛рд▓рд╛рдЬреА","рд╢рд┐рд╡рд╛рдЬреА","рдкреЗрд╢рд╡рд╛","рд╕рдВрднрд╛рдЬреА"],a:1},
{q:"рднрд╛рд░рдд рдореЗрдВ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рдердо рдпреВрд░реЛрдкреАрдп рдХреМрди рдереЗ?",o:["рдЕрдВрдЧреНрд░реЗрдЬ","рдбрдЪ","рдлреНрд░рд╛рдВрд╕реАрд╕реА","рдкреБрд░реНрддрдЧрд╛рд▓реА"],a:3},
{q:"рдкреНрд▓рд╛рд╕реА рдХрд╛ рдпреБрджреНрдз рдХрдм рд╣реБрдЖ?",o:["1757","1764","1773","1857"],a:0},
{q:"рдирд╛рд▓рдВрджрд╛ рд╡рд┐рд╢реНрд╡рд╡рд┐рджреНрдпрд╛рд▓рдп рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХрд┐рд╕рдиреЗ рдХреА?",o:["рдЕрд╢реЛрдХ","рд╣рд░реНрд╖рд╡рд░реНрдзрди","рдХреБрдорд╛рд░рдЧреБрдкреНрдд","рд╕рдореБрджреНрд░рдЧреБрдкреНрдд"],a:2},
{q:"рд╣рд░реНрд╖рд╡рд░реНрдзрди рдХреЗ рджрд░рдмрд╛рд░реА рдХрд╡рд┐ рдереЗ?",o:["рдХрд╛рд▓рд┐рджрд╛рд╕","рдмрд╛рдгрднрдЯреНрдЯ","рдЕрд╢реНрд╡рдШреЛрд╖","рднрд╡рднреВрддрд┐"],a:1},
{q:"рд╣реНрд╡реЗрдирд╕рд╛рдВрдЧ рднрд╛рд░рдд рдЖрдпрд╛ рдерд╛?",o:["5рд╡реАрдВ рд╕рджреА","6рд╡реАрдВ рд╕рджреА","7рд╡реАрдВ рд╕рджреА","8рд╡реАрдВ рд╕рджреА"],a:2},
{q:"рдЬреИрди рдзрд░реНрдо рдХреЗ 24рд╡реЗрдВ рддреАрд░реНрдердВрдХрд░ рдереЗ?",o:["рдкрд╛рд░реНрд╢реНрд╡рдирд╛рде","рдЛрд╖рднрдирд╛рде","рдорд╣рд╛рд╡реАрд░ рд╕реНрд╡рд╛рдореА","рдиреЗрдорд┐рдирд╛рде"],a:2},
{q:"рдЕрд╖реНрдЯрд╛рдВрдЧрд┐рдХ рдорд╛рд░реНрдЧ рдореЗрдВ рдЕрдВрдЧреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛?",o:["6","7","8","9"],a:2},
{q:"рддреНрд░рд┐рдкрд┐рдЯрдХ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ?",o:["рдЬреИрди рдзрд░реНрдо","рдмреМрджреНрдз рдзрд░реНрдо","рд╡реИрджрд┐рдХ рдзрд░реНрдо","рд╢реИрд╡ рдзрд░реНрдо"],a:1},
{q:"рд╕рдВрдЧрдо рд╕рд╛рд╣рд┐рддреНрдп рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ?",o:["рдЙрддреНрддрд░ рднрд╛рд░рдд","рдордзреНрдп рднрд╛рд░рдд","рджрдХреНрд╖рд┐рдг рднрд╛рд░рдд","рдкреВрд░реНрд╡ рднрд╛рд░рдд"],a:2},
{q:"рдЪреЛрд▓ рдкреНрд░рд╢рд╛рд╕рди рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛ рдереА?",o:["рдХреЗрдВрджреНрд░реАрдп рд╢рд╛рд╕рди","рдЧреНрд░рд╛рдо рд╕реНрд╡рд╢рд╛рд╕рди","рддрд╛рдирд╛рд╢рд╛рд╣реА","рд╕рд╛рдордВрддрд╡рд╛рдж"],a:1},
{q:"рджреНрд░рд╡рд┐рдбрд╝ рд╢реИрд▓реА рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ?",o:["рд╕реНрддреВрдк","рдорд╕реНрдЬрд┐рдж","рдордВрджрд┐рд░","рдХрд┐рд▓рд╛"],a:2},
{q:"рдкреНрд░рд╛рдЪреАрди рднрд╛рд░рдд рдореЗрдВ рд╡реНрдпрд╛рдкрд╛рд░ рдХрд╛ рдкреНрд░рдореБрдЦ рдорд╛рд░реНрдЧ рдерд╛?",o:["рд░реЗрд╢рдо рдорд╛рд░реНрдЧ","рдЧреНрд░реИрдВрдб рдЯреНрд░рдВрдХ рд░реЛрдб","рд╢рд╛рд╣реА рдорд╛рд░реНрдЧ","рд╕рдореБрджреНрд░реА рдорд╛рд░реНрдЧ"],a:0},
{q:"1857 рдХреЗ рд╡рд┐рджреНрд░реЛрд╣ рдХреА рдирд╛рдпрд┐рдХрд╛ рдХреМрди рдереАрдВ?",o:["рдмреЗрдЧрдо рд╣рдЬрд░рдд","рд░рд╛рдиреА рд▓рдХреНрд╖реНрдореАрдмрд╛рдИ","рд╕рд░реЛрдЬрд┐рдиреА","рдЗрдВрджрд┐рд░рд╛"],a:1},
{q:"рднрд╛рд░рддреАрдп рд░рд╛рд╖реНрдЯреНрд░реАрдп рдХрд╛рдВрдЧреНрд░реЗрд╕ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХрдм рд╣реБрдИ?",o:["1885","1905","1920","1947"],a:0},
{q:"рдорд╣рд╛рддреНрдорд╛ рдЧрд╛рдВрдзреА рднрд╛рд░рдд рдХрдм рд▓реМрдЯреЗ?",o:["1905","1915","1920","1930"],a:1},
{q:"рджрд╛рдВрдбреА рдорд╛рд░реНрдЪ рдХрдм рд╣реБрдЖ?",o:["1927","1930","1932","1942"],a:1},
{q:"рдмрд┐рдВрдмрд┐рд╕рд╛рд░ рдХрд┐рд╕ рд╡рдВрд╢ рдХрд╛ рд╢рд╛рд╕рдХ рдерд╛?",o:["рдирдВрдж","рд╣рд░реНрдпрдХ","рдореМрд░реНрдп","рд╢реБрдВрдЧ"],a:1},
{q:"рдирдВрдж рд╡рдВрд╢ рдХрд╛ рд╕рдВрд╕реНрдерд╛рдкрдХ рдХреМрди рдерд╛?",o:["рдорд╣рд╛рдкрджреНрдордирдВрдж","рдШрдирд╛рдирдВрдж","рдмрд┐рдВрдмрд┐рд╕рд╛рд░","рдЕрдЬрд╛рддрд╢рддреНрд░реБ"],a:0},
  {q:"рдЪрдВрджреНрд░рдЧреБрдкреНрдд рдореМрд░реНрдп рдХреЗ рдЧреБрд░реБ рдереЗ?",o:["рдкрддрдВрдЬрд▓рд┐","рдореЗрдЧрд╕реНрдердиреАрдЬ","рдЪрд╛рдгрдХреНрдп","рдЕрд╢реНрд╡рдШреЛрд╖"],a:2},
{q:"рдореМрд░реНрдп рдкреНрд░рд╢рд╛рд╕рди рдХрд╛ рдореБрдЦреНрдп рдЖрдзрд╛рд░ рдерд╛?",o:["рд╕реЗрдирд╛","рдХрд░ рдкреНрд░рдгрд╛рд▓реА","рдзрд░реНрдо","рд╡реНрдпрд╛рдкрд╛рд░"],a:1},
{q:"рдЕрд╢реЛрдХ рдХреЗ рд╢рд┐рд▓рд╛рд▓реЗрдЦ рдХрд┐рд╕ рднрд╛рд╖рд╛ рдореЗрдВ рд╣реИрдВ?",o:["рд╕рдВрд╕реНрдХреГрдд","рдкрд╛рд▓реА","рдкреНрд░рд╛рдХреГрдд","рддрдорд┐рд▓"],a:2},
 

 {q:"рдЪрдВрджреНрд░рдЧреБрдкреНрдд рдореМрд░реНрдп рдХреЗ рдЧреБрд░реБ рдХреМрди рдереЗ?",o:["рдореЗрдЧрд╕реНрдердиреАрдЬ","рдЪрд╛рдгрдХреНрдп","рдкрддрдВрдЬрд▓рд┐","рдмрд╛рдгрднрдЯреНрдЯ"],a:1}
];

let currentQ=0,answers={},timeLeft=120*60,timer;

/* ---------- EXAM ---------- */
function startExam(){
 detailsBox.style.display="none";
 examBox.style.display="block";
 loadQuestion();
 timer=setInterval(runTimer,1000);
}

function loadQuestion(){
 let q=qlist[currentQ];
 let html=`<div class="question"><b>Q${currentQ+1}. ${q.q}</b></div><div class="options">`;
 q.o.forEach((op,i)=>{
  html+=`<label><input type="radio" name="opt" value="${i}" ${answers[currentQ]==i?'checked':''}>${op}</label>`;
 });
 html+=`</div>`;
 questionBox.innerHTML=html;
}

function saveAns(){
 let a=document.querySelector('input[name="opt"]:checked');
 if(a)answers[currentQ]=+a.value;
}
function nextQ(){saveAns();if(currentQ<qlist.length-1){currentQ++;loadQuestion();}}
function prevQ(){saveAns();if(currentQ>0){currentQ--;loadQuestion();}}

function runTimer(){
 let m=Math.floor(timeLeft/60),s=timeLeft%60;
 time.innerText=`${m}:${s<10?'0'+s:s}`;
 timeLeft--; if(timeLeft<0)submitExam();
}

/* ---------- RESULT ---------- */
function submitExam(){
 clearInterval(timer);
 examBox.style.display="none";
 resultBox.style.display="block";

 let attempted=0,correct=0;
 qlist.forEach((q,i)=>{
  if(answers[i]!=null){
   attempted++;
   if(answers[i]==q.a)correct++;
  }
 });
 let wrong=attempted-correct;
 let negative=wrong*0.25;

 rname.innerText=sname.value;
 rfname.innerText=fname.value;
 totalQ.innerText=qlist.length;
 attemptQ.innerText=attempted;
 correctQ.innerText=correct;
 wrongQ.innerText=wrong;
 negativeM.innerText=negative.toFixed(2);
 score.innerText=(correct-negative).toFixed(2);

 copyCount.innerText=copyC;
 shotCount.innerText=shotC;
 tabCount.innerText=tabC;

 setTimeout(()=>analysisBtn.style.display="inline-block",30000);
}

/* ---------- ANALYSIS ---------- */
function showAnalysis(){
 analysisBox.style.display="block";
 analysisContent.innerHTML="";
 qlist.forEach((q,i)=>{
  let ua=answers[i],cls,status;
  if(ua==null){cls="notattempt";status="Not Attempted";}
  else if(ua==q.a){cls="correct";status="Correct";}
  else{cls="wrong";status="Wrong";}
  analysisContent.innerHTML+=`
  <div class="analysis-q">
   <b>Q${i+1}. ${q.q}</b><br>
   Your Answer: <span class="${cls}">${ua!=null?q.o[ua]:"тАФ"}</span><br>
   Correct Answer: <span class="correct">${q.o[q.a]}</span><br>
   Result: <span class="${cls}">${status}</span>
  </div>`;
 });
}
</script>
</body>
</html>
