<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DAV Public School â€“ Admit Card</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
@page{
  size:A4 portrait;
  margin:15mm;
}
body{
  font-family:Arial;
  background:#eaeef3;
  margin:0;
}

/* FLOATING NOTICE RIGHT -> LEFT */
.notice-wrapper{
  position:fixed;
  top:15px;
  width:100%;
  overflow:hidden;
  z-index:999;
}
.notice{
  display:inline-block;
  white-space:nowrap;
  background:#fff3cd;
  border:2px solid #ff9800;
  padding:10px 25px;
  font-weight:bold;
  color:#8a5200;
  border-radius:6px;
  box-shadow:0 3px 8px rgba(0,0,0,.2);
  animation:moveNotice 15s linear infinite;
}
@keyframes moveNotice{
  0%{transform:translateX(110%);}
  100%{transform:translateX(-100%);}
}

/* LOGIN */
.login{
  width:360px;
  margin:120px auto;
  background:#fff;
  padding:20px;
  text-align:center;
  border-radius:6px;
  box-shadow:0 0 8px rgba(0,0,0,.2);
}
.login h2{color:#003366}
.login input{width:90%;padding:10px;margin:10px 0}
.login button{
  padding:10px 25px;
  background:#003366;
  color:#fff;
  border:none;
  cursor:pointer;
}

/* ADMIT CARD */
#admit,#verify{display:none}

.card{
  width:180mm;
  min-height:260mm;
  margin:auto;
  background:#fff;
  padding:10mm;
  border:2px solid #000;
  position:relative;
}

.header{
  text-align:center;
  border-bottom:2px solid #000;
  padding-bottom:6px;
}

.main{display:flex;margin-top:10px}

/* LEFT */
.left{width:60%}
.student-details{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:8px;
}
.detail-box{
  border:1.5px solid #000;
  padding:6px 8px;
  font-size:13.5px;
  background:#f9fbff;
}
.detail-box b{
  display:inline-block;
  width:85px;
  color:#003366;
}

/* RIGHT */
.right{
  width:40%;
  display:flex;
  justify-content:space-between;
}
.photo{
  width:130px;
  height:160px;
  border:1px solid #000;
}
.photo img{width:100%;height:100%}
.qrbox{
  border:1px solid #000;
  padding:6px;
  text-align:center;
}

/* TABLE */
table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}
th,td{
  border:1px solid #000;
  padding:6px;
  text-align:center;
}

/* TERMS */
.terms{
  border:1.5px solid #000;
  margin-top:10px;
  padding:8px;
  font-size:13px;
}

/* SIGNATURE */
.sign-row{
  display:flex;
  justify-content:space-between;
  margin-top:25px;
}
.sign-box{
  width:45%;
  text-align:center;
}
.sign-line{
  border-top:1px solid #000;
  margin-top:40px;
  padding-top:4px;
  font-weight:bold;
}

/* PRINT & PDF BUTTONS */
.print-btns{
  margin-top:10px;
  text-align:center;
}
.print-btns button{
  padding:8px 20px;
  margin:0 10px;
  background:#003366;
  color:#fff;
  border:none;
  cursor:pointer;
  border-radius:4px;
}

/* PRINT */
@media print{
  .login,.notice-wrapper,.print-btns{display:none}
  body{background:#fff}
}
</style>
</head>

<body>

<!-- FLOATING NOTICE -->
<div class="notice-wrapper">
  <div class="notice">
    ðŸ“¢ Download Admit Card from <b>20-02-2026</b> to <b>10-03-2026</b>
  </div>
</div>

<!-- LOGIN -->
<div class="login" id="login">
  <h2>DAV PUBLIC SCHOOL</h2>
  <input id="roll" placeholder="Enter Roll Number">
  <button onclick="generate()">View Admit Card</button>
</div>

<!-- ADMIT CARD -->
<div id="admit">
<div class="card" id="admitCard">

<div class="header">
  <h2>DAV PUBLIC SCHOOL</h2>
  <h3>ADMIT CARD â€“ 2025-26</h3>
</div>

<div class="main">
<div class="left">
  <div class="student-details">
    <div class="detail-box"><b>Student:</b> Dinesh Kumar</div>
    <div class="detail-box"><b>Father:</b> Rajesh Kumar</div>
    <div class="detail-box"><b>Mother:</b> Sunita Devi</div>
    <div class="detail-box"><b>Roll No:</b> <span id="rno"></span></div>
    <div class="detail-box"><b>Class:</b> VIII</div>
    <div class="detail-box"><b>Section:</b> A</div>
    <div class="detail-box"><b>Gender:</b> Male</div>
  </div>
</div>

<div class="right">
  <div class="qrbox">
    <div id="qrcode"></div>
    <small>Scan to Verify</small>
  </div>
  <div class="photo">
    <img src="https://via.placeholder.com/130x160">
  </div>
</div>
</div>

<h3 style="text-align:center">EXAMINATION SCHEDULE</h3>

<table>
<tr><th>S.No</th><th>Date</th><th>Day</th><th>Subject</th><th>Time</th></tr>
<tr><td>1</td><td>15-03-2026</td><td>Mon</td><td>English</td><td>10:00â€“11:30</td></tr>
<tr><td>2</td><td>16-03-2026</td><td>Tue</td><td>Hindi</td><td>10:00â€“11:30</td></tr>
<tr><td>3</td><td>17-03-2026</td><td>Wed</td><td>Maths</td><td>10:00â€“11:30</td></tr>
<tr><td>4</td><td>18-03-2026</td><td>Thu</td><td>EVS</td><td>10:00â€“11:30</td></tr>
<tr><td>5</td><td>19-03-2026</td><td>Fri</td><td>Computer</td><td>10:00â€“11:30</td></tr>
</table>

<div class="terms">
<b>Examination Terms & Conditions:</b><br>
1. Admit Card compulsory on all exam days.<br>
2. Reach exam hall 30 minutes before time.<br>
3. Mobile phones strictly prohibited.<br>
4. Unfair means will cancel exam.
</div>

<div class="sign-row">
  <div class="sign-box"><div class="sign-line">Class Teacher</div></div>
  <div class="sign-box"><div class="sign-line">Principal</div></div>
</div>

<!-- PRINT & PDF BUTTONS -->
<div class="print-btns">
  <button onclick="window.print()">ðŸ–¨ Print Admit Card</button>
  <button onclick="downloadPDF()">ðŸ’¾ Download PDF</button>
</div>

</div>
</div>

<script>
// GENERATE ADMIT CARD
function generate(){
  let roll=document.getElementById("roll").value.trim();
  if(!roll){alert("Enter Roll Number");return;}

  login.style.display="none";
  document.querySelector(".notice-wrapper").style.display="none";
  admit.style.display="block";
  rno.innerText=roll;

  let url=location.origin+location.pathname+
  "?verify=1&roll="+roll+
  "&father=Rajesh%20Kumar"+
  "&mother=Sunita%20Devi"+
  "&class=VIII"+
  "&section=A"+
  "&gender=Male"+
  "&exam=English,Hindi,Maths,EVS,Computer";

  qrcode.innerHTML="";
  new QRCode("qrcode",{text:url,width:110,height:110});
}

// DOWNLOAD PDF
function downloadPDF(){
  const { jsPDF } = window.jspdf;
  let doc = new jsPDF('p','mm','a4');

  let card = document.getElementById("admitCard");

  doc.html(card, {
    callback: function(doc) {
      doc.save("AdmitCard.pdf");
    },
    x:10,
    y:10,
    html2canvas:{scale:0.55}
  });
}
</script>
</body>
</html>
